<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<video width="400" height="300" controls>
    <source src="https://rg.ru/video/content/0/43/68/rus.mp4" type="video/mp4">
</video>


<video width="400" height="300" controls>
    <source src="https://rg.ru/video/content/0/44/37/nedviga.mp4" type="video/mp4">
</video>

<div id="result"></div>


<script type="text/javascript">
  function supportsVideoType(type) {
    var video;
    
    // Allow user to create shortcuts, i.e. just "webm"
    var formats = {
      ogg: 'video/ogg; codecs="theora"',
      h264: 'video/mp4; codecs="avc1.42E01E"',
      webm: 'video/webm; codecs="vp8, vorbis"',
      vp9: 'video/webm; codecs="vp9"',
      hls: 'application/x-mpegURL; codecs="avc1.42E01E"'
    };
    
    if (!video) {
      video = document.createElement('video')
    }
    
    return video.canPlayType(formats[type] || type);
  }
  
  var getResult = () => {
    var formats = ['ogg', 'h264', 'webm', 'vp9', 'hls']
    var result = document.getElementById('result')

    formats.forEach(item => {
        var element = document.createElement('div')
        element.innerHTML = '<span>' + item + ':' + supportsVideoType(item) + '</span>'
  
        result.appendChild(element)
    })
  }
  
  getResult()
  
  console.log('ogg', supportsVideoType('ogg'))
  console.log('h264', supportsVideoType('h264'))
  console.log('webm', supportsVideoType('webm'))
  console.log('vp9', supportsVideoType('vp9'))
  console.log('hls', supportsVideoType('hls'))
</script>
</body>
</html>
